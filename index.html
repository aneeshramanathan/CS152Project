<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GPA Calculator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>GPA Calculator</h1>

        <!-- Section 1: Semester GPA Calculator -->
        <div class="section semester-section">
            <h2 class="section-title">1. Semester GPA Calculator</h2>
            <p class="section-description">Calculate your GPA for current semester courses</p>

            <div class="input-section">
                <h3>Add Course</h3>
                <div class="form-group">
                    <input type="text" id="semesterCourseName" placeholder="Course Name" />
                </div>
                <div class="form-group">
                    <select id="semesterGradeSelect">
                        <option value="">Select Grade</option>
                        <option value="4.0">A (4.0)</option>
                        <option value="3.7">A- (3.7)</option>
                        <option value="3.3">B+ (3.3)</option>
                        <option value="3.0">B (3.0)</option>
                        <option value="2.7">B- (2.7)</option>
                        <option value="2.3">C+ (2.3)</option>
                        <option value="2.0">C (2.0)</option>
                        <option value="1.7">C- (1.7)</option>
                        <option value="1.3">D+ (1.3)</option>
                        <option value="1.0">D (1.0)</option>
                        <option value="0.0">F (0.0)</option>
                    </select>
                </div>
                <div class="form-group">
                    <input type="number" id="semesterCredits" placeholder="Credits" min="0" step="0.5" />
                </div>
                <button onclick="addSemesterCourse()" class="btn btn-primary">Add Course</button>
            </div>

            <div class="courses-section">
                <h3>Current Semester Courses</h3>
                <div id="semesterCoursesList"></div>
            </div>

            <div class="results-section">
                <div class="gpa-display">
                    <h3>Semester GPA</h3>
                    <div id="semesterGpaResult" class="gpa-value">0.00</div>
                    <div class="gpa-info">
                        <p>Total Credits: <span id="semesterTotalCredits">0</span></p>
                        <p>Total Courses: <span id="semesterTotalCourses">0</span></p>
                    </div>
                </div>
                <button onclick="resetSemesterCalculator()" class="btn btn-secondary">Reset Semester</button>
            </div>
        </div>

        <!-- Section 2: Overall GPA Calculator -->
        <div class="section overall-section">
            <h2 class="section-title">2. Overall GPA Calculator</h2>
            <p class="section-description">Combine your previous GPA with current semester</p>

            <div class="input-section">
                <h3>Previous Academic Record</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>Previous Cumulative GPA</label>
                        <input type="number" id="previousGpa" placeholder="e.g., 3.5" min="0" max="4" step="0.01" />
                    </div>
                    <div class="form-group">
                        <label>Previous Total Credits</label>
                        <input type="number" id="previousCredits" placeholder="e.g., 60" min="0" step="0.5" />
                    </div>
                </div>
                <button onclick="calculateOverallGPA()" class="btn btn-primary">Calculate Overall GPA</button>
            </div>

            <div class="results-section">
                <div class="gpa-display">
                    <h3>Overall GPA</h3>
                    <div id="overallGpaResult" class="gpa-value">0.00</div>
                    <div class="gpa-info">
                        <p>Total Credits: <span id="overallTotalCredits">0</span></p>
                        <p>Previous Credits: <span id="overallPreviousCredits">0</span></p>
                        <p>Semester Credits: <span id="overallSemesterCredits">0</span></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Chatbot Interface -->
    <div id="chatbot-icon" onclick="toggleChatbot()">
        <svg width="32" height="32" viewBox="0 0 24 24" fill="white">
            <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"/>
            <circle cx="8" cy="10" r="1.5"/>
            <circle cx="12" cy="10" r="1.5"/>
            <circle cx="16" cy="10" r="1.5"/>
        </svg>
    </div>

    <div id="chatbot-window" class="chatbot-hidden">
        <div class="chatbot-header">
            <h3>GPA Assistant</h3>
            <button onclick="toggleChatbot()" class="chatbot-close">&times;</button>
        </div>
        <div id="chatbot-messages" class="chatbot-messages">
            <div class="bot-message">
                Hi! I'm your GPA Assistant. I can help you:
                <br><br>
                • Add courses (e.g., "Add Math 101 with grade A and 3 credits")
                <br>
                • Calculate GPAs (e.g., "What's my semester GPA?")
                <br>
                • Set previous GPA (e.g., "My previous GPA is 3.5 with 60 credits")
                <br><br>
                How can I help you today?
            </div>
        </div>
        <div class="chatbot-input-area">
            <input type="text" id="chatbot-input" placeholder="Type your message..." onkeypress="handleChatbotKeypress(event)" />
            <button onclick="sendChatbotMessage()" class="chatbot-send-btn">Send</button>
        </div>
    </div>

    <!-- NLP Library -->
    <script src="https://unpkg.com/compromise@14.9.0/builds/compromise.min.js"></script>
    <script src="script.js"></script>
    <script src="chatbot.js"></script>
</body>
</html>
